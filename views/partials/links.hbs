<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/2f26d88f13.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
{{!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script> --}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    $(document).ready(function(){
        $(".delete").click(function(){
           if(confirm("do u really want to delete your account?")){
            window.location = "http://localhost:3000/daccount"
           }
        })
        $(".album").click(function(){
            let id = $(this).attr("id")
            window.location = `http://localhost:3000/salbum/${id}`
        })
        $(".a").click(function(){
                document.getElementById("search").submit();
        })
            $('.like').on('click', function (event) {
            event.preventDefault(); // Stop the form from causing a page refresh.
            let id = $(this).attr("id")
            if($(this).hasClass("red")){
               let likes =  $(`#s${id}`).text()
               likes--;
               $(`#s${id}`).text(likes)
            }
            else{
                let likes =  $(`#s${id}`).text()
                
                likes++;
               $(`#s${id}`).text(likes)
            }
            $(this).toggleClass("fa-solid red fa-regular")
            $.ajax({
                url: `http://localhost:3000/like/${id}`,
                data: {},
                method: 'GET'
            }).then(function (response) {
               
            }).catch(function (err) {
                console.error(err);
            });
        });
        $('.book').on('click', function (event) {
            event.preventDefault(); // Stop the form from causing a page refresh.
            let id = $(this).attr("id")
            $(this).toggleClass("fa-solid fa-regular")
            $.ajax({
                url: `http://localhost:3000/book/${id}`,
                data: {},
                method: 'GET'
            }).then(function (response) {
                
            }).catch(function (err) {
                console.error(err);
            });
        });
        $("#com").on('submit',function(event){
            event.preventDefault();
            var data = {
                coment: $('#coment').val(),
                postid: $("#hid").val()
            };
            $.ajax({
                url: 'http://localhost:3000/coment',
                data: data,
                method: 'POST'
            }).then(function (response) {
                    $('#coment').val("")
            }).catch(function (err) {
                console.error(err);
            });
        })
        $(".edit").click(function(){
            window.location = "http://localhost:3000/edit"
        })
        $(".f").click(function(event){
             event.preventDefault(); // Stop the form from causing a page refresh.
            let id = $(this).attr("id")
            console.log($(this).text())
            if($(this).text() == "follow"){
            $(this).text("following")

            }
            else{
            $(this).text("follow")

            }
            $.ajax({
                url: `http://localhost:3000/follow/${id}`,
                data: {},
                method: 'GET'
            }).then(function (response) {
               
            }).catch(function (err) {
                console.error(err);
            });
        })
            
    })
</script>